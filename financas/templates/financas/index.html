{% extends 'template_new.html' %}
{% load static %}
{% block nav %}

{% endblock %}
{% block css %}
  <link rel="stylesheet" href="{% static 'css/cursos.css' %}">
  <style>
    .hero-section {

      background: linear-gradient(135deg, rgba(234, 237, 240, 0.801), rgba(206, 215, 221, 0.9)), url("https://desenvolve.novafriburgo.rj.gov.br/static/images/paisagem-banner.png");
      background-size: cover;
      background-position: bottom;
      color: white;
      padding: 4rem 0 4rem 0;
      margin-top: 0px;
      position: relative;
      overflow: hidden;
    }
    .hero-content {
      padding-top: 50px;
      position: relative;
      z-index: 2;
    }
    
    .hero-stats {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: var(--border-radius-xl);
      padding: 2rem;
      margin-top: 2rem;
    }
    
    .section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 2rem;
      padding: 0 1rem;
    }
    
    .section-title {
      font-family: var(--font-secondary);
      font-weight: 700;
      color: var(--dark-color);
      margin: 0;
      position: relative;
    }
    
    .section-title::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 0;
      width: 60px;
      height: 4px;
      background: linear-gradient(90deg, var(--primary-color), var(--primary-light));
      border-radius: 2px;
    }
    
    .btn-see-more {
      color: var(--primary-color);
      text-decoration: none;
      font-weight: 600;
      padding: 0.5rem 1.5rem;
      border: 2px solid var(--primary-color);
      border-radius: var(--border-radius-lg);
      transition: all var(--transition-normal);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .btn-see-more:hover {
      background: var(--primary-color);
      color: white;
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }
    
    .course-card {
      background: white;
      border-radius: var(--border-radius-xl);
      overflow: hidden;
      box-shadow: var(--shadow-md);
      transition: all var(--transition-normal);
      height: 100%;
      max-width: 300px;
      display: flex;
      flex-direction: column;
      margin-bottom: 2rem;
    }
    
    .course-card:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-xl);
    }
    
    .course-image {
      position: relative;
      height: 200px;
      overflow: hidden;
    }
    /* Curso / Serviço Ícone (compatível com FontAwesome) */
.course-icon {
  display: flex;
  align-items: center;
  justify-content: center;

  width: 70px;
  height: 70px;

  margin: 0px auto 0px auto;

  border-radius: 50%;
  background: rgba(11, 97, 214, 0.1);

  font-size: 36px;
  color: #0b61d6;

  transition: all 0.3s ease;
}

/* Efeito no hover do card */
.course-card:hover .course-icon {
  background: #0b61d6;
  color: #ffffff;
  transform: scale(1.1) rotate(3deg);
}

    .course-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform var(--transition-slow);
    }
    
    .course-card:hover .course-image img {
      transform: scale(1.1);
    }
    
    .course-category {
      position: absolute;
      top: 12px;
      right: 12px;
      color: white;
      font-size: 0.75rem;
      font-weight: 600;
      padding: 0.5rem 1rem;
      border-radius: var(--border-radius-lg);
      backdrop-filter: blur(5px);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .course-content {
      padding: 1.5rem 1.5rem 0px 1.5rem;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      background-color: #ffffff;
    }
    
    .course-title {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--dark-color);
      margin-top: 20px;
      /* line-height: 1.4; */
      text-align: center;
    }
    
    .course-meta {
      color: var(--gray-600);
      font-size: 0.875rem;
      /* margin-bottom: 1.5rem; */
      display: flex;
      align-items: center;
      gap: 0.5rem;
      text-align: center;
    }
    .course-meta span{
      width: 100%;
      text-align: center;
    }
    .course-meta i {
      color: var(--primary-color);
    }
    
    .btn-course-details {
      background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: var(--border-radius-lg);
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      transition: all var(--transition-normal);
      margin-top: auto;
      text-decoration: none;
      display: inline-block;
      text-align: center;
    }
    
    .btn-course-details:hover {
      background: linear-gradient(135deg, var(--primary-dark), var(--primary-color));
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
      color: white;
    }
    
    .courses-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1rem;
      padding: 0 1rem;
    }
    
    .section-content {
      padding: 3rem 0;
    }
    
    @media (max-width: 768px) {
      .hero-section {
        padding: 2rem 0;
        /* margin-top: 100px; */
      }
      .mobile-menu-toggle, .social-links{
        display: none !important;
      }
      .section-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 1rem;
      }
      
      .courses-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }
      
      .course-image {
        height: 180px;
      }
    }
  </style>
{% endblock %}
{% block main %}
<!-- Hero Section -->
<section class="hero-section" data-aos="fade-up">
  <div class="container">
    <div class="hero-content">
      <div class="row align-items-center">
        <div class="col-lg-12 d-flex flex-column">
          <img src="{% static 'images/fazenda_logo.png' %}" class="img-fluid mx-auto mb-4" style="max-width: 550px;" alt="">          
        </div>       
      </div>
    </div>
  </div>
</section>

</style>
<!-- Cursos Section -->
<section class="section-content" data-aos="fade-up" style="padding-bottom: 100px;">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Principais serviços</h2>
      
    </div>
    
    <div class="courses-grid">
      {% for servico in servicos %}
      <a {% if forloop.first %}href="#" onclick="openModal()"{% else %}href="{{ servico.link }}"{% endif %} target="_blank" class="course-card" data-aos="fade-up" style="text-decoration: none;">

        <div class="course-content">          
          <div class="course-icon">
            <span class="fas {{servico.icone}}">

            </span>
          </div>
          <h3 class="course-title">{{servico.titulo}}</h3>
          <div class="course-meta">            
            <span>{{servico.descricao}}</span>
          </div>
          <!-- <a href="{{ servico.link }}" class="btn-course-details">          
            <i class="fas fa-arrow-up-right-from-square me-2"></i>Acessar
          </a> -->
        </div>
      </a>
      {% endfor %}
    </div>
    <div class="section-header mt-5">
      <h2 class="section-title">últimas Notícias</h2>      
    </div>
    <div class="news-section">      
      <div class="news-grid">

      <div class="news-card">
        <div class="news-image">
          <img src="/static/images/nfselogo.png" class="m-auto img-fluid" alt="">
        </div>
        <div class="news-content">
          <h3 class="news-title">Migração para a NFS-e Nacional</h3>
          <span class="news-date">12 Jun 2025</span>
          <p class="news-desc">Com a Reforma Tributária, a emissão de nota fiscal eletrônica passará a ocorrer por meio do emissor nacional. Prepare-se para a transição.</p>
          <a href="./nfs-e/" class="news-btn">Leia mais</a>
        </div>
      </div>
<!-- 
      <div class="news-card">
        <div class="news-image"></div>
        <div class="news-content">
          <h3 class="news-title">Novas regras para emissão de alvarás entram em vigor</h3>
          <span class="news-date">09 Jun 2025</span>
          <p class="news-desc">Mudanças prometem reduzir burocracia e acelerar a liberação de licenças.</p>
          <a href="#" class="news-btn">Leia mais</a>
        </div>
      </div> -->


    </div>
    </div>
    <style>
       .news-section{
      /* max-width:1000px; */
      margin:20px auto 80px;
      padding: 0px 20px 0px 20px;
      border-radius:10px;
      /* box-shadow:0 10px 30px rgba(0,0,0,0.05); */
    }

    .news-section h2{
      margin:0 0 25px 0;
      font-size:26px;
      border-left:6px solid #0b61d6;
      padding-left:14px;
    }

    .news-grid{
      display:grid;
      grid-template-columns:repeat(3, 1fr);
      gap:20px;
    }

    @media(max-width:800px){
      .news-grid{grid-template-columns:1fr;}
    }

    .news-card{
      background:#ffffff;
      border-radius:10px;
      overflow:hidden;
      border:1px solid #e5e7eb;
      display:flex;
      flex-direction:column;
      transition:all .2s ease;
    }

    .news-card:hover{
      transform:translateY(-6px);
      box-shadow:0 12px 25px rgba(0,0,0,0.08);
    }

    .news-image{
      height:140px;
      /* background:linear-gradient(135deg, #0b61d6, #3b82f6); */
      display: flex;
    }

    .news-content{
      padding:18px;
      display:flex;
      flex-direction:column;
      gap:8px;
    }

    .news-date{
      font-size:12px;
      color:#6b7280;
    }

    .news-title{
      font-size:16px;
      margin:0;
    }

    .news-desc{
      font-size:14px;
      color:#4b5563;
    }

    .news-btn{
      margin-top:10px;
      text-decoration:none;
      font-size:14px;
      font-weight:bold;
      color:#0b61d6;
    }

    .news-btn:hover{
      text-decoration:underline;
    }


    </style>
  </div>  
</section>


<script>
  document.getElementById('s-index').classList.add('s-nav-active');
</script>
<div id="tributosModal" class="custom-modal">

  <div class="custom-modal-content">

    <button class="modal-close" onclick="closeModal()">
      <i class="fas fa-times"></i>
    </button>

    <h2 class="modal-title">Tributos Municipais</h2>
    <p class="modal-subtitle">Selecione o serviço desejado:</p>

    <div class="modal-grid">

      <a href="/tributos/iptu/" class="modal-option">
        <i class="fas fa-city"></i>
        <span>IPTU</span>
      </a>

      <a href="/tributos/iss/" class="modal-option">
        <i class="fas fa-file-invoice-dollar"></i>
        <span>ISS</span>
      </a>

      <a href="/tributos/divida-ativa/" class="modal-option">
        <i class="fas fa-balance-scale"></i>
        <span>Dívida Ativa</span>
      </a>

      <a href="/tributos/certidoes/" class="modal-option">
        <i class="fas fa-scroll"></i>
        <span>Certidões</span>
      </a>

      <a href="/tributos/alvaras/" class="modal-option">
        <i class="fas fa-store"></i>
        <span>Alvarás</span>
      </a>

      <a href="/tributos/taxas/" class="modal-option">
        <i class="fas fa-coins"></i>
        <span>Taxas Diversas</span>
      </a>

    </div>

  </div>

</div>
<style>
  /* BACKDROP */
.custom-modal {
  display: none;
  position: fixed;
  z-index: 9999;
  inset: 0;
  background: rgba(10, 20, 40, 0.55);
  backdrop-filter: blur(6px);
  align-items: center;
  justify-content: center;
}

/* MODAL BOX */
.custom-modal-content {
  background: #ffffff;
  padding: 30px 25px;
  border-radius: 16px;
  width: 90%;
  max-width: 650px;
  position: relative;
  animation: modalIn 0.35s ease;
  box-shadow: 0 20px 40px rgba(0,0,0,0.2);
}

/* TITLE */
.modal-title {
  font-size: 26px;
  margin-bottom: 5px;
  text-align: center;
}

/* SUBTITLE */
.modal-subtitle {
  font-size: 14px;
  text-align: center;
  color: #6b7280;
  margin-bottom: 25px;
}

/* CLOSE BUTTON */
.modal-close {
  position: absolute;
  top: 14px;
  right: 16px;
  background: #f3f4f6;
  border: none;
  width: 34px;
  height: 34px;
  border-radius: 50%;
  cursor: pointer;
  transition: .2s;
}

.modal-close:hover {
  background: #0b61d6;
  color: white;
}

/* GRID OPTIONS */
.modal-grid {
  display: grid;
  grid-template-columns: repeat(3,1fr);
  gap: 14px;
}

@media(max-width:600px){
  .modal-grid {
    grid-template-columns: repeat(2,1fr);
  }
}

/* OPTION BUTTON */
.modal-option {
  text-decoration: none;
  padding: 18px 10px;
  background: #f8fafc;
  border-radius: 12px;
  border:1px solid #e5e7eb;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap: 10px;
  transition: all .2s ease;
  font-weight: 600;
  color: #1f2937;
}

.modal-option i{
  font-size: 22px;
  color: #0b61d6;
}

.modal-option:hover {
  transform: translateY(-5px);
  box-shadow:0 10px 18px rgba(11,97,214,0.15);
  background:#ffffff;
}

/* ANIMATION */
@keyframes modalIn {
  from {
    transform: scale(0.9) translateY(30px);
    opacity: 0;
  }
  to {
    transform: scale(1) translateY(0px);
    opacity: 1;
  }
}
</style>
<script>
  function openModal() {
  const modal = document.getElementById('tributosModal');
  modal.style.display = 'flex';
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  const modal = document.getElementById('tributosModal');
  modal.style.display = 'none';
  document.body.style.overflow = 'auto';
}

window.addEventListener('click', function(e){
  const modal = document.getElementById('tributosModal');
  if(e.target === modal){
    closeModal();
  }
});

// ESC to close
document.addEventListener('keydown', function(e){
  if(e.key === 'Escape'){
    closeModal();
  }
});

</script>
{% endblock %}
{% block footer %}

{% endblock %}